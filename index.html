<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shomex Premium</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- BANNER -->
<section class="banner">
  <img src="KEDAI.png" alt="Shomex Banner">
</section>

<!-- APPS -->
<section class="container">

  <div class="app-card">
    <img src="logo.png">
    <h2>KINGTV</h2>
    <p>Live TV, Movies & Sports</p>

    <a href="https://cutt.ly/king100" class="btn">Download Link 1</a>
    <a href="https://tinyurl.com/kingtv22" class="btn outline">Download Link 2</a>

    <button class="btn package-btn" onclick="openPackage('KINGTV')">
      ðŸ“¦ View Packages
    </button>
  </div>

  <div class="app-card">
    <img src="logo2.png">
    <h2>SYOKTV</h2>
    <p>Live TV, Movies & Sports</p>

    <a href="https://cutt.ly/shosyok" class="btn">Download Link 1</a>
    <a href="https://tinyurl.com/syoktv2" class="btn outline">Download Link 2</a>

    <button class="btn package-btn" onclick="openPackage('SYOKTV')">
      ðŸ“¦ View Packages
    </button>
  </div>

</section>

<!-- PAYMENT -->
<section class="payment">
  <h2>Payment Method</h2>

  <a href="https://wasep.me/shomexshop" class="btn buy-btn">
    ðŸ’³ Online Transfer
  </a>

  <button class="btn buy-btn" onclick="openQR()">
    ðŸ“± QR Pay
  </button>
</section>

<!-- FOOTER -->
<footer>
  Â© 2025 SHOMEX SHOP â€” All Rights Reserved
</footer>

<!-- PACKAGE MODAL -->
<div class="modal" id="packageModal">
  <div class="modal-box">
    <h3 id="packageTitle"></h3>
    <div id="packageList"></div>
    <button class="btn outline" onclick="closePackage()">Close</button>
  </div>
</div>

<!-- QR MODAL -->
<div class="modal" id="qrModal">
  <div class="modal-box">
    <h3>Scan QR to Pay</h3>

    <img src="QRpay.jpg" class="qr-img no-save" draggable="false">

    <p><strong>Upload Payment Proof</strong></p>
    <input type="file" accept="image/*">

    <button class="btn buy-btn" onclick="sendWhatsApp()">
      ðŸ“² Send WhatsApp
    </button>

    <button class="btn outline" onclick="closeQR()">Close</button>
  </div>
</div>

<script>
/* ADMIN PRICE CONTROL */
const prices = {
  KINGTV: [
    { months: 1, price: 30 },
    { months: 3, price: 80 },
    { months: 6, price: 150 }
  ],
  SYOKTV: [
    { months: 1, price: 28 },
    { months: 3, price: 75 }
  ]
};

let selectedApp = "";
let selectedPackage = null;

function openPackage(app) {
  selectedApp = app;
  document.getElementById("packageModal").style.display = "flex";
  document.getElementById("packageTitle").innerText = app + " Packages";

  const list = document.getElementById("packageList");
  list.innerHTML = "";

  prices[app].forEach(p => {
    const expiry = calcExpiry(p.months);
    const div = document.createElement("div");
    div.className = "package-item";
    div.innerHTML = `
      <p>${p.months} Month â€” RM${p.price}</p>
      <small>Expiry: ${expiry}</small>
      <button class="btn buy-btn"
        onclick="selectPackage(${p.months}, ${p.price}, '${expiry}')">
        Select
      </button>
    `;
    list.appendChild(div);
  });
}

function selectPackage(m, price, expiry) {
  selectedPackage = { m, price, expiry };
  closePackage();
  openQR();
}

function calcExpiry(months) {
  const d = new Date();
  d.setMonth(d.getMonth() + months);
  return d.toLocaleDateString();
}

function sendWhatsApp() {
  if (!selectedPackage) return alert("Please select package first");

  const msg =
`Hi, I have paid.

App: ${selectedApp}
Package: ${selectedPackage.m} Month
Price: RM${selectedPackage.price}
Expiry: ${selectedPackage.expiry}`;

  window.open(
    "https://wa.me/601159635600?text=" + encodeURIComponent(msg),
    "_blank"
  );
}

function openQR() {
  document.getElementById("qrModal").style.display = "flex";
}
function closeQR() {
  document.getElementById("qrModal").style.display = "none";
}
function closePackage() {
  document.getElementById("packageModal").style.display = "none";
}
</script>

</body>
</html>
